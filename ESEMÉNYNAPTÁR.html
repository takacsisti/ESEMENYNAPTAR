<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="https://www.drupal.org/files/project-images/drupal-module-calendar.jpg">
    <title>Esem√©nynapt√°r</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #f0f2f5;
            padding: 20px;
        }

        .tartaly {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .fejlec {
            background: #3498db;
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 10px 10px 0 0;
        }

        .esemeny-hozzaadas {
            background: #ecf0f1;
            padding: 20px;
            border-bottom: 1px solid #ddd;
        }

        .urlap-sor {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .urlap-sor input, .urlap-sor select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            flex: 1;
        }

        .gomb {
            background: #3498db;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .gomb:hover {
            background: #2980b9;
        }

        .szurok {
            display: flex;
            gap: 10px;
            padding: 20px;
            flex-wrap: wrap;
        }

        .szuro-gomb {
            padding: 8px 16px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 20px;
            cursor: pointer;
        }

        .szuro-gomb.aktiv, .szuro-gomb:hover {
            background: #3498db;
            color: white;
        }

        .esemenyek {
            padding: 0 20px 20px;
        }

        .ho-cim {
            font-size: 1.5em;
            color: #2c3e50;
            margin: 20px 0 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #3498db;
        }

        .esemenyek-racs {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .esemeny-kartya {
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            color: white;
            position: relative;
        }

        .esemeny-kartya.aktualis {
            border: 3px solid #f39c12;
            animation: villog 2s infinite;
        }

        @keyframes villog {
            0%, 100% { box-shadow: 0 0 20px rgba(243, 156, 18, 0.5); }
            50% { box-shadow: 0 0 30px rgba(243, 156, 18, 0.8); }
        }

        .esemeny-kartya.lejart {
            opacity: 0.6;
        }

        .tipus-kultura { background: #e74c3c; }
        .tipus-sport { background: #3498db; }
        .tipus-muveszet { background: #9b59b6; }
        .tipus-tanulas { background: #2ecc71; }
        .tipus-kirandulas { background: #1abc9c; }
        .tipus-zene { background: #f39c12; }
        .tipus-etel { background: #e67e22; }
        .tipus-egyeb { background: #95a5a6; }

        .esemeny-cim {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            padding-right: 80px;
        }

        .esemeny-adat {
            margin-bottom: 5px;
        }

        .esemeny-tipus {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.8em;
            margin: 10px 0;
            display: inline-block;
        }

        .maganlat {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.3);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75em;
            z-index: 1;
            white-space: nowrap;
        }

        .reszletek-gomb {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            margin-top: 10px;
        }

        .reszletek-gomb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-tartalom {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            width: 400px;
            max-width: 90%;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .modal h3 {
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .modal input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .modal-gombok {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .modal-gomb {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .modal-gomb.megerosit {
            background: #3498db;
            color: white;
        }

        .modal-gomb.megse {
            background: #95a5a6;
            color: white;
        }

        .modal-gomb:hover {
            opacity: 0.8;
        }

        .hiba-uzenet {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .urlap-sor {
                flex-direction: column;
            }
            .szurok {
                justify-content: center;
            }
            .esemenyek-racs {
                grid-template-columns: 1fr;
            }
            .modal-tartalom {
                width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="tartaly">
        <div class="fejlec">
            <h1>Esem√©nynapt√°r</h1>
        </div>

        <div class="esemeny-hozzaadas">
            <h3>√öj esem√©ny hozz√°ad√°sa</h3>
        </br>
            <div class="urlap-sor">
                <input type="text" id="nev" placeholder="Esem√©ny neve">
                <input type="text" id="helyszin" placeholder="Helysz√≠n">
                <input type="date" id="datum">
            </div>
            <div class="urlap-sor">
                <input type="time" id="idoTol">
                <input type="time" id="idoIg" placeholder="V√©ge (opcion√°lis)">
                <select id="tipus">
                    <option value="kultura">Kult√∫ra</option>
                    <option value="sport">Sport</option>
                    <option value="muveszet">M≈±v√©szet</option>
                    <option value="tanulas">Tanul√°s</option>
                    <option value="kirandulas">Kir√°ndul√°s</option>
                    <option value="zene">Zene</option>
                    <option value="etel">√âtel & Ital</option>
                    <option value="egyeb">Egy√©b</option>
                </select>
            </div>
            <div class="urlap-sor">
                <select id="maganlat">
                    <option value="nyilvanos">Nyilv√°nos</option>
                    <option value="zartkoru">Z√°rtk√∂r≈±</option>
                </select>
                <input type="text" id="szervezo" placeholder="Szervez≈ë neve">
                <button class="gomb" onclick="jelszoKeres()">Hozz√°ad√°s</button>
            </div>
        </div>

        <div class="szurok">
            <button class="szuro-gomb aktiv" onclick="szuroEsemenyek('all')">√ñsszes</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('kultura')">Kult√∫ra</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('sport')">Sport</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('muveszet')">M≈±v√©szet</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('tanulas')">Tanul√°s</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('kirandulas')">Kir√°ndul√°s</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('zene')">Zene</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('etel')">√âtel</button>
            <button class="szuro-gomb" onclick="szuroEsemenyek('egyeb')">Egy√©b</button>
        </div>

        <div class="esemenyek" id="esemenyek">

        </div>
    </div>

    <div id="jelszoModal" class="modal">
        <div class="modal-tartalom">
            <h3>Admin jelsz√≥ sz√ºks√©ges</h3>
            <p>K√©rj√ºk adja meg az admin jelsz√≥t az esem√©ny hozz√°ad√°s√°hoz:</p>
            <input type="password" id="jelszoMezo" placeholder="Jelsz√≥">
            <div class="modal-gombok">
                <button class="modal-gomb megerosit" onclick="jelszoEllenorzes()">OK</button>
                <button class="modal-gomb megse" onclick="jelszoModalBezar()">M√©gse</button>
            </div>
            <div id="hibaUzenet" class="hiba-uzenet"></div>
        </div>
    </div>

    <script>

        let esemenyek = [
            {nev: "P√ºnk√∂sdi V√°s√°r √©s Vigass√°g", helyszin: "Vajdahunyadv√°r", datum: "2025-06-14", idoTol: "10:00", idoIg: "18:00", tipus: "kultura", maganlat: "nyilvanos", szervezo: "V√°rosliget Zrt.", link: "https://www.programturizmus.hu/naptar-hetvege.html"},
            {nev: "The Ghost Inside koncert", helyszin: "Barba Negra Blue Stage", datum: "2025-06-10", idoTol: "20:00", idoIg: "23:00", tipus: "zene", maganlat: "nyilvanos", szervezo: "Barba Negra", link: "https://gotravel.hu/programok-koncert"},
            {nev: "Bagossy Brothers Company", helyszin: "V√°rkert Gyula", datum: "2025-06-14", idoTol: "19:00", idoIg: "22:00", tipus: "zene", maganlat: "nyilvanos", szervezo: "Koncert szervez≈ë", link: "https://bagossybrotherscompany.com/koncertek"},
            {nev: "Kisp√°l √©s a Borz: Etet√©s 2025 - 1. nap", helyszin: "KOBUCI kert", datum: "2025-06-20", idoTol: "18:00", idoIg: "23:00", tipus: "zene", maganlat: "nyilvanos", szervezo: "KOBUCI kert", link: "https://kobuci.hu/programok"},
            {nev: "Kisp√°l √©s a Borz: Etet√©s 2025 - 2. nap", helyszin: "KOBUCI kert", datum: "2025-06-21", idoTol: "18:00", idoIg: "23:00", tipus: "zene", maganlat: "nyilvanos", szervezo: "KOBUCI kert", link: "https://kobuci.hu/programok"},
            {nev: "Aurevoir 10. Sz√ºlet√©snap", helyszin: "Budapest Park", datum: "2025-07-10", idoTol: "18:00", idoIg: "23:00", tipus: "zene", maganlat: "nyilvanos", szervezo: "Budapest Park", link: "https://www.budapestpark.hu"},
            {nev: "Magyar √Ållami Operah√°z el≈ëad√°s", helyszin: "Magyar √Ållami Operah√°z", datum: "2025-07-15", idoTol: "19:30", idoIg: "22:00", tipus: "kultura", maganlat: "nyilvanos", szervezo: "Magyar √Ållami Operah√°z", link: "https://www.opera.hu"},
            {nev: "Szabadt√©ri Koncert", helyszin: "Margitsziget", datum: "2025-07-22", idoTol: "20:00", idoIg: "22:30", tipus: "zene", maganlat: "nyilvanos", szervezo: "BKV Zrt.", link: "https://welovebudapest.com/programok"},
            {nev: "Budapesti Nemzetk√∂zi Fut√≥verseny", helyszin: "H≈ës√∂k tere", datum: "2025-08-03", idoTol: "08:00", idoIg: "12:00", tipus: "sport", maganlat: "nyilvanos", szervezo: "Budapest Maraton", link: "https://budapest-marathon.com"},
            {nev: "Sz√©chenyi F√ºrd≈ë √âjszakai F√ºrd≈ëz√©s", helyszin: "Sz√©chenyi Gy√≥gyf√ºrd≈ë", datum: "2025-08-10", idoTol: "22:00", idoIg: "02:00", tipus: "egyeb", maganlat: "nyilvanos", szervezo: "Sz√©chenyi F√ºrd≈ë", link: "https://szechenyifurdo.hu"},
            {nev: "Honeybeast - CINEMATRIP", helyszin: "Budapest Park", datum: "2025-08-28", idoTol: "18:00", idoIg: "23:00", tipus: "zene", maganlat: "nyilvanos", szervezo: "Budapest Park", link: "https://www.budapestpark.hu"},
            {nev: "T. Danny koncert", helyszin: "Budapest Park", datum: "2025-08-29", idoTol: "19:00", idoIg: "22:00", tipus: "zene", maganlat: "nyilvanos", szervezo: "Budapest Park", link: "https://www.budapestpark.hu"},
            {nev: "Budapesti F√©nyfesztiv√°l", helyszin: "Budav√°ri Palota", datum: "2025-09-05", idoTol: "20:00", idoIg: "23:00", tipus: "kultura", maganlat: "nyilvanos", szervezo: "F√©nyfesztiv√°l Kft.", link: "https://www.facebook.com/p/Budapest-F%C3%A9nyfesztiv%C3%A1l-100088601768124/?_rdr"},
            {nev: "Wine & Dine Festival", helyszin: "V√°rkert Baz√°r", datum: "2025-09-12", idoTol: "17:00", idoIg: "22:00", tipus: "etel", maganlat: "zartkoru", szervezo: "Gasztro Events", link: "https://www.varkertbazar.hu"},
            {nev: "Duna-parti Ker√©kp√°rt√∫ra", helyszin: "Roosevelt t√©r - Szentendre", datum: "2025-09-20", idoTol: "09:00", idoIg: "17:00", tipus: "kirandulas", maganlat: "nyilvanos", szervezo: "BringaBar√°tok Egyes√ºlet", link: "https://bringabaratok.hu"},
            {nev: "Nemzeti Sz√≠nh√°z - Hamlet", helyszin: "Nemzeti Sz√≠nh√°z", datum: "2025-09-28", idoTol: "19:30", idoIg: "22:30", tipus: "kultura", maganlat: "nyilvanos", szervezo: "Nemzeti Sz√≠nh√°z", link: "https://nemzetiszinhaz.hu"},
            {nev: "Budapest Design Week", helyszin: "Millen√°ris Park", datum: "2025-10-08", idoTol: "10:00", idoIg: "20:00", tipus: "muveszet", maganlat: "nyilvanos", szervezo: "Design Week Szervez≈ëk", link: "https://www.facebook.com/budapestdesignweek/"},
            {nev: "Koncz Zsuzsa koncert", helyszin: "Papp L√°szl√≥ Budapest Sportar√©na", datum: "2025-10-15", idoTol: "20:00", idoIg: "22:30", tipus: "zene", maganlat: "nyilvanos", szervezo: "Sportar√©na", link: "https://gotravel.hu/programok-koncert"},
            {nev: "Kispesti V√°ros√ºnnep", helyszin: "Kispest", datum: "2025-10-22", idoTol: "12:00", idoIg: "20:00", tipus: "kultura", maganlat: "nyilvanos", szervezo: "Kispest √ñnkorm√°nyzat", link: "https://www.programturizmus.hu/ajanlat-budapest-park.html"},
            {nev: "Budapest International Documentary Festival", helyszin: "M≈±v√©sz Cinema", datum: "2025-10-30", idoTol: "18:00", idoIg: "22:00", tipus: "muveszet", maganlat: "nyilvanos", szervezo: "BIDF", link: "https://bidf.hu/"},
            {nev: "Debreceni Vir√°gkarnev√°l", helyszin: "Debrecen, Nagyerd≈ë", datum: "2025-08-15", idoTol: "10:00", idoIg: "18:00", tipus: "kultura", maganlat: "nyilvanos", szervezo: "Debrecen V√°ros", link: "https://www.debrecen.hu/viragkarneval"},
            {nev: "Szeged Open Tenisztorna", helyszin: "Szeged, V√°rosi Teniszklub", datum: "2025-09-08", idoTol: "09:00", idoIg: "17:00", tipus: "sport", maganlat: "nyilvanos", szervezo: "Magyar Tenisz Sz√∂vets√©g", link: "https://www.huntennis.hu"},
            {nev: "P√©cs Gal√©ria Kort√°rs M≈±v√©szeti Ki√°ll√≠t√°s", helyszin: "P√©cs, Modern Gal√©ria", datum: "2025-10-12", idoTol: "10:00", idoIg: "18:00", tipus: "muveszet", maganlat: "nyilvanos", szervezo: "P√©cs M≈±vel≈ëd√©si K√∂zpont", link: "https://www.pecs.hu/galeria"},
            {nev: "Szakmai Konferencia: Digit√°lis Oktat√°s", helyszin: "Gy≈ër, Sz√©chenyi Egyetem", datum: "2025-11-05", idoTol: "09:00", idoIg: "16:00", tipus: "tanulas", maganlat: "zartkoru", szervezo: "Sz√©chenyi Istv√°n Egyetem", link: "https://nws.comp-rend.hu/"},
            {nev: "Balaton Ker√ºl≈ë T√∫ra", helyszin: "Balatonf√ºred - Tihany", datum: "2025-07-26", idoTol: "08:00", idoIg: "16:00", tipus: "kirandulas", maganlat: "nyilvanos", szervezo: "Term√©szetj√°r√≥ Klub", link: "https://www.balaton-tura.hu"},
            {nev: "Miskolci Gasztron√≥miai Fesztiv√°l", helyszin: "Miskolc, F≈ët√©r", datum: "2025-09-19", idoTol: "11:00", idoIg: "20:00", tipus: "etel", maganlat: "nyilvanos", szervezo: "Miskolc Turizmus", link: "https://www.miskolc.hu/gasztro"},
            {nev: "Veszpr√©m Sz√≠nh√°zfesztiv√°l", helyszin: "Veszpr√©m, Pet≈ëfi Sz√≠nh√°z", datum: "2025-10-03", idoTol: "19:00", idoIg: "22:00", tipus: "kultura", maganlat: "nyilvanos", szervezo: "Pet≈ëfi Sz√≠nh√°z", link: "https://www.petofi-szinhaz.hu"},
            {nev: "Kecskem√©t Triatlonverseny", helyszin: "Kecskem√©t, Sportcentrum", datum: "2025-08-24", idoTol: "07:00", idoIg: "14:00", tipus: "sport", maganlat: "nyilvanos", szervezo: "Kecskem√©ti Sportklub", link: "https://www.kecskemeti-sport.hu"},
            {nev: "H√≥dmez≈ëv√°s√°rhely Fot√≥p√°ly√°zat", helyszin: "H√≥dmez≈ëv√°s√°rhely, Kult√∫rh√°z", datum: "2025-11-18", idoTol: "15:00", idoIg: "19:00", tipus: "muveszet", maganlat: "nyilvanos", szervezo: "Hodmez≈ëv√°s√°rhely Kultur√°lis Egyes√ºlet", link: "https://www.hodmezovasarhely.hu/kultura"},
            {nev: "Szombathely Wellness H√©tv√©ge", helyszin: "Szombathely, Aquaticum", datum: "2025-12-07", idoTol: "10:00", idoIg: "18:00", tipus: "egyeb", maganlat: "zartkoru", szervezo: "Aquaticum Wellness", link: "https://www.aquaticum.hu"}
        ];

        let jelenlegiSzuro = 'all';

        const tipusNevek = {
            kultura: 'Kult√∫ra', sport: 'Sport', muveszet: 'M≈±v√©szet', tanulas: 'Tanul√°s',
            kirandulas: 'Kir√°ndul√°s', zene: 'Zene', etel: '√âtel & Ital', egyeb: 'Egy√©b'
        };

        const honapok = ['Janu√°r','Febru√°r','M√°rcius','√Åprilis','M√°jus','J√∫nius','J√∫lius','Augusztus','Szeptember','Okt√≥ber','November','December'];

        function jelszoKeres() {

            const nev = document.getElementById('nev').value;
            const helyszin = document.getElementById('helyszin').value;
            const datum = document.getElementById('datum').value;
            const idoTol = document.getElementById('idoTol').value;
            const szervezo = document.getElementById('szervezo').value;

            if (!nev || !helyszin || !datum || !idoTol || !szervezo) {
                alert('T√∂ltse ki a k√∂telez≈ë mez≈ëket!');
                return;
            }

            document.getElementById('jelszoModal').style.display = 'block';
            document.getElementById('jelszoMezo').focus();
            document.getElementById('hibaUzenet').textContent = '';
        }

        function jelszoEllenorzes() {
            const jelszo = document.getElementById('jelszoMezo').value;
            const helyesJelszo = 'admin0';

            if (jelszo === helyesJelszo) {
                jelszoModalBezar();
                esemenyHozzaadas();
            } else {
                document.getElementById('hibaUzenet').textContent = 'Hib√°s jelsz√≥! Pr√≥b√°lja √∫jra.';
                document.getElementById('jelszoMezo').value = '';
                document.getElementById('jelszoMezo').focus();
            }
        }

        function jelszoModalBezar() {
            document.getElementById('jelszoModal').style.display = 'none';
            document.getElementById('jelszoMezo').value = '';
            document.getElementById('hibaUzenet').textContent = '';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('jelszoModal');
            if (event.target === modal) {
                jelszoModalBezar();
            }
        }

        document.getElementById('jelszoMezo').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                jelszoEllenorzes();
            }
        });

        function esemenyHozzaadas() {
            const nev = document.getElementById('nev').value;
            const helyszin = document.getElementById('helyszin').value;
            const datum = document.getElementById('datum').value;
            const idoTol = document.getElementById('idoTol').value;
            const idoIg = document.getElementById('idoIg').value;
            const tipus = document.getElementById('tipus').value;
            const maganlat = document.getElementById('maganlat').value;
            const szervezo = document.getElementById('szervezo').value;

            esemenyek.push({nev, helyszin, datum, idoTol, idoIg, tipus, maganlat, szervezo, link: ''});
            
            document.getElementById('nev').value = '';
            document.getElementById('helyszin').value = '';
            document.getElementById('datum').value = '';
            document.getElementById('idoTol').value = '';
            document.getElementById('idoIg').value = '';
            document.getElementById('szervezo').value = '';
            
            alert('Esem√©ny sikeresen hozz√°adva!');
            esemenyekMegjelenites();
        }

        function szuroEsemenyek(tipus) {
            jelenlegiSzuro = tipus;
            document.querySelectorAll('.szuro-gomb').forEach(gomb => gomb.classList.remove('aktiv'));
            event.target.classList.add('aktiv');
            esemenyekMegjelenites();
        }

        function aktualis(datum, idoTol, idoIg) {
            const most = new Date();
            const kezdes = new Date(datum + 'T' + idoTol);
            const vege = idoIg ? new Date(datum + 'T' + idoIg) : new Date(kezdes.getTime() + 2*60*60*1000);
            return most >= kezdes && most <= vege;
        }

        function lejart(datum, idoTol) {
            const most = new Date();
            const esemenyIdo = new Date(datum + 'T' + idoTol);
            return (most - esemenyIdo) > (2 * 60 * 60 * 1000);
        }


        function esemenyekMegjelenites() {
            let szurt = jelenlegiSzuro === 'all' ? esemenyek : esemenyek.filter(e => e.tipus === jelenlegiSzuro);
            szurt.sort((a, b) => new Date(a.datum) - new Date(b.datum));

            const honapokSzerint = {};
            szurt.forEach(esemeny => {
                const d = new Date(esemeny.datum);
                const ev = d.getFullYear();
                const honap = d.getMonth();
                const kulcs = `${ev}-${honap.toString().padStart(2, '0')}`;
                if (!honapokSzerint[kulcs]) honapokSzerint[kulcs] = {ev: ev, honap: honap, esemenyek: []};
                honapokSzerint[kulcs].esemenyek.push(esemeny);
            });

            let html = '';
            Object.keys(honapokSzerint).sort().forEach(honapKulcs => {
                const honapAdat = honapokSzerint[honapKulcs];
                html += `<h2 class="ho-cim">${honapok[honapAdat.honap]} ${honapAdat.ev}</h2>`;
                html += '<div class="esemenyek-racs">';
                
                honapAdat.esemenyek.forEach(esemeny => {
                    const idoSzoveg = esemeny.idoIg ? `${esemeny.idoTol} - ${esemeny.idoIg}` : `${esemeny.idoTol}-t√≥l`;
                    const maganlat = esemeny.maganlat === 'nyilvanos' ? 'Nyilv√°nos' : 'Z√°rtk√∂r≈±';
                    const aktualisClass = aktualis(esemeny.datum, esemeny.idoTol, esemeny.idoIg) ? ' aktualis' : '';
                    const lejartClass = lejart(esemeny.datum, esemeny.idoTol) ? ' lejart' : '';
                    
                    html += `
                        <div class="esemeny-kartya tipus-${esemeny.tipus}${aktualisClass}${lejartClass}">
                            <div class="maganlat">${maganlat}</div>
                            <div class="esemeny-cim">${esemeny.nev}</div>
                            <div class="esemeny-adat">üìç ${esemeny.helyszin}</div>
                            <div class="esemeny-adat">üìÖ ${new Date(esemeny.datum).toLocaleDateString('hu-HU')}</div>
                            <div class="esemeny-adat">üïê ${idoSzoveg}</div>
                            <div class="esemeny-tipus">${tipusNevek[esemeny.tipus]}</div>
                            <button class="reszletek-gomb" onclick="esemenyReszletekMegnyitas('${esemeny.nev}')">R√©szletek & Jegyek ‚Üí</button>
                        </div>
                    `;
                });
                html += '</div>';
            });

            document.getElementById('esemenyek').innerHTML = html || '<p style="text-align:center;color:#999;padding:40px;">Nincs esem√©ny</p>';
        }

        function esemenyReszletekMegnyitas(esemenyNev) {

            const esemeny = esemenyek.find(e => e.nev === esemenyNev);
            
            if (esemeny && esemeny.link) {
                window.open(esemeny.link, '_blank');
            }
        }

        document.getElementById('datum').value = new Date().toISOString().split('T')[0];
        esemenyekMegjelenites();
        setInterval(esemenyekMegjelenites, 60000);
    </script>
</body>
</html>